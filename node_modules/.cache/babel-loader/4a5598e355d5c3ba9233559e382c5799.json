{"ast":null,"code":"import _regeneratorRuntime from\"/home/maher/Desktop/My-React-Projects/to github/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/maher/Desktop/My-React-Projects/to github/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/maher/Desktop/My-React-Projects/to github/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import db from'./firebaseConfig';import{Switch,Route,Link,BrowserRouter as Router}from\"react-router-dom\";import Header from'./components/Header';import AllVideos from'./components/AllVideos';import UnViewed from'./components/UnViewed';import Viewed from'./components/Viewed';import Archive from'./components/Archive';import Footer from'./components/Footer';import Rating from'./components/Rating';function App(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),videos=_React$useState2[0],setVideos=_React$useState2[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.collection('YouTube').get();case 2:res=_context.sent;data=res.docs.map(function(video,index){return Object.assign(video.data(),{id_on_firebase:video.id});});setVideos(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();refreshPage();},[]);// Continuously fetching\nfunction refreshPage(){fetchData();// Setting a timer to launch the function every 1 second continuously\nsetTimeout(refreshPage,1000);}var _React$useState3=React.useState(\"board-view\"),_React$useState4=_slicedToArray(_React$useState3,2),viewStyle=_React$useState4[0],setViewStyle=_React$useState4[1];var changeStyle=function changeStyle(){if(viewStyle===\"list-view\"){setViewStyle(\"board-view\");}else{setViewStyle(\"list-view\");}};return/*#__PURE__*/React.createElement(Router,{id:\"page-body\"},/*#__PURE__*/React.createElement(Header,{videos:videos}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(AllVideos,{videos:videos})),/*#__PURE__*/React.createElement(Route,{path:\"/allVideos\"},/*#__PURE__*/React.createElement(AllVideos,{videos:videos})),/*#__PURE__*/React.createElement(Route,{path:\"/unviewed\"},/*#__PURE__*/React.createElement(UnViewed,{videos:videos})),/*#__PURE__*/React.createElement(Route,{path:\"/viewed\"},/*#__PURE__*/React.createElement(Viewed,{videos:videos})),/*#__PURE__*/React.createElement(Route,{path:\"/archive\"},/*#__PURE__*/React.createElement(Archive,{videos:videos})),/*#__PURE__*/React.createElement(Route,{path:\"/rating/oneStar\"},/*#__PURE__*/React.createElement(Rating,{videos:videos,ratingVal:\"1\"}),\";\"),/*#__PURE__*/React.createElement(Route,{path:\"/rating/twoStars\"},/*#__PURE__*/React.createElement(Rating,{videos:videos,ratingVal:\"2\"}),\";\"),/*#__PURE__*/React.createElement(Route,{path:\"/rating/threeStars\"},/*#__PURE__*/React.createElement(Rating,{videos:videos,ratingVal:\"3\"}),\";\"),/*#__PURE__*/React.createElement(Route,{path:\"/rating/fourStars\"},/*#__PURE__*/React.createElement(Rating,{videos:videos,ratingVal:\"4\"}),\";\"),/*#__PURE__*/React.createElement(Route,{path:\"/rating/fiveStars\"},/*#__PURE__*/React.createElement(Rating,{videos:videos,ratingVal:\"5\"}),\";\")),/*#__PURE__*/React.createElement(Footer,null));}export default App;","map":{"version":3,"sources":["/home/maher/Desktop/My-React-Projects/to github/src/App.js"],"names":["React","useState","useEffect","db","Switch","Route","Link","BrowserRouter","Router","Header","AllVideos","UnViewed","Viewed","Archive","Footer","Rating","App","videos","setVideos","fetchData","collection","get","res","data","docs","map","video","index","Object","assign","id_on_firebase","id","refreshPage","setTimeout","viewStyle","setViewStyle","changeStyle"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport db from './firebaseConfig';\nimport { Switch, Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nimport Header from './components/Header'\nimport AllVideos from './components/AllVideos'\nimport UnViewed from './components/UnViewed'\nimport Viewed from './components/Viewed'\nimport Archive from './components/Archive'\nimport Footer from './components/Footer'\nimport Rating from './components/Rating'\n\n\n\nfunction App() {\n\n  const [videos, setVideos] = React.useState([]);\n\n  const fetchData = async () => {\n    const res = await db.collection('YouTube').get();\n    const data = res.docs.map((video, index)=> Object.assign(video.data(), {id_on_firebase: video.id}));\n    setVideos(data);\n  };\n\n  useEffect(() => {\n    fetchData();\n    refreshPage();\n  }, []);\n\n  // Continuously fetching\n  function refreshPage(){\n    fetchData();\n    // Setting a timer to launch the function every 1 second continuously\n    setTimeout(refreshPage, 1000);\n  }\n\n  const [viewStyle, setViewStyle] = React.useState(\"board-view\");\n\n  const changeStyle = () => {\n    if(viewStyle === \"list-view\") {\n      setViewStyle(\"board-view\");\n    } else {\n      setViewStyle(\"list-view\");\n    }\n  }\n\n  \n  return (\n    <Router id=\"page-body\">\n\n      <Header videos={videos} />\n\n      <Switch>\n        <Route exact path=\"/\">\n          <AllVideos videos={videos} />\n        </Route>\n        <Route path=\"/allVideos\"> \n          <AllVideos videos={videos} />\n        </Route>\n        <Route path=\"/unviewed\"> \n          <UnViewed videos={videos} />\n        </Route>\n        <Route path=\"/viewed\"> \n          <Viewed videos={videos} />\n        </Route>\n        <Route path=\"/archive\"> \n          <Archive videos={videos} />\n        </Route>\n        <Route path=\"/rating/oneStar\"> \n          <Rating videos={videos} ratingVal=\"1\" />;\n        </Route>\n        <Route path=\"/rating/twoStars\"> \n          <Rating videos={videos} ratingVal=\"2\" />;\n        </Route>\n        <Route path=\"/rating/threeStars\"> \n          <Rating videos={videos} ratingVal=\"3\" />;\n        </Route>\n        <Route path=\"/rating/fourStars\"> \n          <Rating videos={videos} ratingVal=\"4\" />;\n        </Route>\n        <Route path=\"/rating/fiveStars\"> \n          <Rating videos={videos} ratingVal=\"5\" />;\n        </Route>\n      </Switch>\n\n      <Footer />\n\n    </Router>\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}